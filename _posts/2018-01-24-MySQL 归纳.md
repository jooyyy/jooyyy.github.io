---
layout:     post
title:      MySQL 归纳
subtitle:   
date:       2018-01-24
author:     Joy
header-img: img/page-bg-people.png
catalog: 	true
tags:
    - MySQL
---
#### 装载MySQL 
* APT
```
sudo apt-get update
sudo apt-get install mysql-server
```

* YUM 
```
// 下载yum对应的mysql源
wget https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm

sudo rpm -Uvh xxxxx.rpm

// 查看 yum 中包含的源，选择下载的源
yum repolist all | grep mysql

sudo yum-config-manager --disable mysql80-community

sudo yum-config-manager --enable mysql57-community

sudo yum install mysql-community-server

```

* 修改root密码
```
UPDATE mysql.user SET Password=PASSWORD('MyNewPass') WHERE User='root';
FLUSH PRIVILEGES;
UPDATE mysql.user SET Password=PASSWORD('yhshmxqb7x') WHERE User='root';
```

* 添加账号，配置权限
```
Create USER 'vee'@'localhost' IDENTIFIED BY 'rm7ur5u7dk';
ALTER user 'vee'@'localhost' IDENTIFIED BY 'rm7ur5u7dk';
GRANT ALL ON *.* TO vee@localhost;

```

* 添加 "unique"
```
ALTER TABLE `t_user` ADD unique(`username`);
```

* 备份数据
> mysqldump --databases [DB_NAME] > [FILE_NAME].sql

* 导入
> mysql -u -p [DB_NAME] < [FILE_NAME].sql

* 查看字符集
	* 查看服务器和数据库字符集
		> show variables like '%char%';
	* 查看 Table 字符集
	 	> show table status from sqlstudy_db like '%[TableName]%';
 	* 查看数据列字符集
 		> show full columns from [TableName]; 

* 修改 Table 字符集
	```
	ALTER TABLE tbl_name CONVERT TO CHARACTER SET character_name [COLLATE ...]
	如：ALTER TABLE logtest CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;

	```

* 在创建 Database 的时候就指定字符集
	```
	CREATE DATABASE IF NOT EXIST mydatabase CHARACTER SET utf8 COLLATE utf8_general_ci;
	```

* 查询某张 Table 的记录条数
	select count(*) from [table_name]